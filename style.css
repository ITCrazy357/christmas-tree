body {
  margin: 0;
  background: #0a0f2f;
  overflow: hidden;
  font-family: "Great Vibes", cursive;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
}

.container {
  position: relative;
  text-align: center;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

svg {
  overflow: visible;
  max-height: 80vh;
}

/* === C·∫§U H√åNH N√âT V·∫º === */
.draw-path {
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 2500;
  stroke-dashoffset: 2500;
}

.main-line {
  stroke: url(#goldGradient);
  stroke-width: 6;
  filter: drop-shadow(0 0 2px #15a2da) drop-shadow(0 0 5px #1b6fbe)
    drop-shadow(0 0 10px #078a4d);
  animation: draw 10s ease-in-out forwards;
  position: relative;
  z-index: 2;
}

.fire-trail {
  stroke: url(#hotTrailGradient);
  stroke-width: 12;
  opacity: 0.8;
  filter: drop-shadow(0 0 5px #06943c) drop-shadow(0 0 15px #cec0c0)
    drop-shadow(0 0 30px #039935);
  animation: draw 10s ease-in-out 0.2s forwards;
  z-index: 1;
}

.base-line {
  stroke: url(#goldGradient);
  stroke-width: 6;
  filter: drop-shadow(0 0 5px #1b6fbe) drop-shadow(0 0 5px #06943c)
    drop-shadow(0 0 15px #cec0c0);
  animation: draw 5s ease-in-out 6.5s forwards;
}

@keyframes draw {
  to {
    stroke-dashoffset: 0;
  }
}

/* === PH·∫¶N M·ªöI: ƒê·∫¶U B√öT PH√ÅT S√ÅNG (SPARK) === */
#spark-cursor {
  /* Copy y nguy√™n path d c·ªßa c√¢y th√¥ng v√†o ƒë√¢y ƒë·ªÉ n√≥ ch·∫°y theo */
  offset-path: path(
    "M100 600 Q 290 450 210 450 Q 100 460 260 350 Q 290 330 200 290 Q 250 290 300 150 Q 350 290 400 290 Q 310 330 340 350 Q 500 460 390 450 Q 310 450 500 600"
  );

  /* Hi·ªáu ·ª©ng ph√°t s√°ng m·∫°nh */
  fill: #fff;
  filter: drop-shadow(0 0 5px #fff) drop-shadow(0 0 10px #ffd700)
    drop-shadow(0 0 20px #ff0000);

  /* Ch·∫°y c√πng l√∫c v·ªõi v·∫Ω c√¢y (10s) */
  animation: moveSpark 7s ease-in-out forwards;
  opacity: 1;
}

/* ·∫®n ƒë·ªëm s√°ng sau khi v·∫Ω xong */
@keyframes moveSpark {
  0% {
    offset-distance: 0%;
    opacity: 1;
  }
  99% {
    opacity: 1;
  }
  100% {
    offset-distance: 100%;
    opacity: 0;
  }
}

/* === B·ª§I R∆†I T·ª™ ƒê·∫¶U B√öT === */
.drawing-dust {
  position: absolute;
  background: #fff;
  border-radius: 50%;
  pointer-events: none;
  box-shadow: 0 0 5px gold;
  z-index: 10;
  animation: dustFadeOut 1s linear forwards;
}

@keyframes dustFadeOut {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(0);
    opacity: 0;
    margin-top: 20px;
  } /* R∆°i nh·∫π xu·ªëng */
}

/* === C√ÅC PH·∫¶N C≈® (Gi·ªØ nguy√™n) === */
#star {
  fill: gold;
  stroke: #e2b72b;
  stroke-width: 2px;
  opacity: 0;
  transform-origin: center;
  filter: drop-shadow(0 0 10px gold) drop-shadow(0 0 30px yellow);
  animation: starShow 2s ease 8s forwards, starPulse 3s infinite 12s;
}

@keyframes starShow {
  from {
    opacity: 0;
    transform: scale(0) rotate(-180deg);
  }
  to {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

@keyframes starPulse {
  0%,
  100% {
    filter: drop-shadow(0 0 10px rgb(189, 204, 190))
      drop-shadow(0 0 30px yellow);
    transform: scale(1);
  }
  50% {
    filter: drop-shadow(0 0 20px rgb(205, 218, 209))
      drop-shadow(0 0 50px yellow);
    transform: scale(1.1);
  }
}

.title {
  position: absolute;
  bottom: 20px;
  color: #fff;
  font-size: 3rem;
  text-shadow: 0 0 10px #c9a4a4, 0 0 20px #accab8;
  opacity: 0;
  transition: opacity 1s ease-in-out;
  width: 100%;
}

.snowflake {
  position: fixed;
  top: -20px;
  color: white;
  user-select: none;
  pointer-events: none;
  z-index: 10;
  animation: fall linear forwards;
}
@keyframes fall {
  to {
    transform: translateY(105vh);
    opacity: 0;
  }
}

/* B·ª•i r∆°i t·ª´ nh√°nh c√¢y (Sau khi v·∫Ω xong) */
.tree-falling-dust {
  position: absolute;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 0 5px #ffd700, 0 0 10px #ffd700;
  pointer-events: none;
  z-index: 3;
  opacity: 0;
  animation: dustFallAnimation linear forwards;
}

@keyframes dustFallAnimation {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(150px) scale(0.5);
  }
}

/* Santa & Qu√† */
.santa-container {
  position: fixed;
  top: 10%;
  left: -300px;
  width: 300px;
  height: 150px;
  z-index: 5;
  pointer-events: none;
  background-image: url("santa.png");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

.santa-flying {
  animation: flyAcrossScreen 15s linear forwards;
}

@keyframes flyAcrossScreen {
  0% {
    transform: translateX(0) translateY(0) rotate(-2deg);
  }
  25% {
    transform: translateX(30vw) translateY(20px) rotate(0deg);
  }
  50% {
    transform: translateX(60vw) translateY(0px) rotate(2deg);
  }
  75% {
    transform: translateX(90vw) translateY(20px) rotate(0deg);
  }
  100% {
    transform: translateX(calc(100vw + 400px)) translateY(0) rotate(-2deg);
  }
}

.gift-item {
  position: fixed;
  top: -50px;
  z-index: 4;
  pointer-events: none;
  filter: drop-shadow(0 0 5px gold);
  animation: fallDown 10s linear forwards, wobble 3s ease-in-out infinite;
}

@keyframes fallDown {
  to {
    transform: translateY(110vh);
    opacity: 0;
  }
}

@keyframes wobble {
  0%,
  100% {
    margin-left: 0px;
    rotate: 0deg;
  }
  50% {
    margin-left: 10px;
    rotate: 5deg;
  }
}

.magic-dust {
  position: absolute;
  background: #fff;
  border-radius: 50%;
  opacity: 0;
  box-shadow: 0 0 5px #ffd700, 0 0 10px #ffd700;
  animation: sparkleTrail 1s infinite linear;
}

@keyframes sparkleTrail {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(-100px, 20px) scale(0);
    opacity: 0;
  }
}

/* N√∫t nh·∫°c */
.music-btn {
  position: fixed;
  bottom: 580px;
  left: 170px;
  z-index: 100;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 215, 0, 0.5);
  border-radius: 50px;
  padding: 10px 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-family: "Great Vibes", cursive;
  color: #ffd700;
  font-size: 1.5rem;
  cursor: pointer;
  outline: none;
  transition: all 0.4s ease;
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
}

.music-btn .icon {
  font-size: 1.8rem;
  filter: drop-shadow(0 0 5px gold);
}
.music-btn:hover {
  background: rgba(255, 215, 0, 0.2);
  border-color: #ffd700;
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3), 0 0 15px gold;
  color: #fff;
}
.music-playing {
  border-color: #ff4500;
  background: rgba(212, 36, 36, 0.2);
  color: #fff;
  box-shadow: 0 0 20px #ff4500;
}
.music-playing .icon {
  animation: bellRing 2s infinite ease-in-out;
}
@keyframes bellRing {
  0%,
  100% {
    transform: rotate(0);
  }
  10% {
    transform: rotate(15deg);
  }
  20% {
    transform: rotate(-15deg);
  }
  30% {
    transform: rotate(10deg);
  }
  40% {
    transform: rotate(-10deg);
  }
  50% {
    transform: rotate(0);
  }
}
/* =========================================
   ‚ú® ADD-ON: Aurora + Starfield + Vignette
   (D√°n v√†o CU·ªêI style.css)
========================================= */

/* ƒê·∫£m b·∫£o layer n·ªÅn n·∫±m sau SVG */
.container {
  isolation: isolate;
}

#starfield-canvas,
.aurora-layer {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

.aurora-layer {
  opacity: 0.45;
  filter: blur(18px) saturate(130%);
  mix-blend-mode: screen;
  background: radial-gradient(
      60% 50% at 20% 30%,
      rgba(0, 255, 180, 0.35),
      transparent 60%
    ),
    radial-gradient(55% 45% at 70% 35%, rgba(0, 140, 255, 0.3), transparent 62%),
    radial-gradient(
      55% 45% at 55% 75%,
      rgba(255, 70, 170, 0.22),
      transparent 65%
    ),
    radial-gradient(
      80% 70% at 40% 60%,
      rgba(255, 215, 0, 0.12),
      transparent 70%
    );
  animation: auroraDrift 14s ease-in-out infinite alternate;
}

@keyframes auroraDrift {
  0% {
    transform: translate(-2%, -1%) scale(1.05) rotate(-1deg);
  }
  100% {
    transform: translate(2%, 1.5%) scale(1.12) rotate(1.5deg);
  }
}

/* Vignette vi·ªÅn t·ªëi nh·∫π cho cinematic */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 999;
  background: radial-gradient(
    70% 60% at 50% 40%,
    transparent 55%,
    rgba(0, 0, 0, 0.45) 100%
  );
}

/* ƒê·∫©y SVG + ch·ªØ + n√∫t l√™n tr√™n n·ªÅn */
#main-svg,
.title,
.music-btn {
  position: relative;
  z-index: 2;
}

/* =========================================
   üéÑ ADD-ON: Tree Sway (ƒëung ƒë∆∞a nh·∫π)
========================================= */
#main-svg {
  transform-origin: 50% 95%;
  animation: treeSway 6.5s ease-in-out infinite;
}

@keyframes treeSway {
  0%,
  100% {
    transform: rotate(-0.6deg);
  }
  50% {
    transform: rotate(0.8deg);
  }
}

/* =========================================
   üí° ADD-ON: Garland Lights (d√¢y ƒë√®n theo path)
========================================= */
.light-garland {
  fill: none;
  stroke-width: 10;
  stroke-linecap: round;
  stroke-dasharray: 0.1 22;
  opacity: 0;
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6))
    drop-shadow(0 0 16px rgba(255, 215, 0, 0.45));
  animation: garlandIn 1.2s ease 7.8s forwards,
    garlandTwinkle 2.6s ease-in-out infinite 9.2s;
}

@keyframes garlandIn {
  to {
    opacity: 1;
  }
}

@keyframes garlandTwinkle {
  0%,
  100% {
    opacity: 0.75;
    stroke-dashoffset: 0;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.55))
      drop-shadow(0 0 16px rgba(255, 215, 0, 0.45));
  }
  50% {
    opacity: 1;
    stroke-dashoffset: 18;
    filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.75))
      drop-shadow(0 0 26px rgba(255, 80, 80, 0.35));
  }
}

/* =========================================
   üéÅ ADD-ON: Ornaments (b√≥ng trang tr√≠ SVG)
========================================= */
.ornament-bulb {
  opacity: 0;
  transform-origin: center;
  filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.5))
    drop-shadow(0 0 14px rgba(255, 215, 0, 0.4));
  animation: ornamentIn 0.9s ease forwards,
    ornamentPulse 2.8s ease-in-out infinite;
}

@keyframes ornamentIn {
  from {
    opacity: 0;
    transform: scale(0.3);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes ornamentPulse {
  0%,
  100% {
    transform: scale(1);
    filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.45))
      drop-shadow(0 0 14px rgba(255, 215, 0, 0.35));
  }
  50% {
    transform: scale(1.12);
    filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.7))
      drop-shadow(0 0 26px rgba(255, 215, 0, 0.6));
  }
}

/* =========================================
   ‚ú® ADD-ON: Message shimmer (ch·ªØ lung linh)
========================================= */
.title {
  letter-spacing: 1px;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.85),
    rgba(255, 215, 0, 0.95),
    rgba(255, 255, 255, 0.85)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: messageGlow 3s ease-in-out infinite;
}

@keyframes messageGlow {
  0%,
  100% {
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3),
      0 0 25px rgba(255, 215, 0, 0.25);
  }
  50% {
    text-shadow: 0 0 14px rgba(255, 255, 255, 0.45),
      0 0 40px rgba(255, 215, 0, 0.35);
  }
}

/* =========================================
   üéÜ ADD-ON: Final sparkle burst particles
========================================= */
.final-spark {
  position: fixed;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.85));
  animation: pop 900ms ease-out forwards;
}

@keyframes pop {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(var(--dx), var(--dy)) scale(0.2);
    opacity: 0;
  }
}
